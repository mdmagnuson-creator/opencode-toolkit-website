{
  "project": "Toolkit Website",
  "branchName": "feature/build-time-toolkit-sync",
  "description": "Implement build-time fetching of toolkit data so the website automatically reflects the latest ai-toolkit content whenever it rebuilds",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create build-time manifest generation script",
      "description": "As a developer, I need a script that fetches the ai-toolkit repository and generates a fresh manifest so the website always has current data.",
      "acceptanceCriteria": [
        "Script at scripts/generate-manifest.ts that accepts a toolkit path as argument (for local) or fetches from GitHub (for CI)",
        "Script reads agents, skills, scaffolds, templates from the toolkit",
        "Script generates the same manifest format as current toolkit-manifest.json",
        "Script outputs to src/data/toolkit-manifest.json",
        "Script runs successfully locally with npx ts-node scripts/generate-manifest.ts ~/.config/opencode",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": false,
      "e2eScope": null,
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    },
    {
      "id": "US-002",
      "title": "Add GitHub fetch mode to manifest script",
      "description": "As the CI system, I need to fetch toolkit data from GitHub when building so I don't need local filesystem access.",
      "acceptanceCriteria": [
        "Script supports --github flag to fetch from GitHub API instead of local path",
        "Uses TOOLKIT_REPO env var (default: mdmagnuson-creator/ai-toolkit)",
        "Uses GITHUB_TOKEN env var for authenticated API access (higher rate limits)",
        "Fetches only necessary files (agents/, skills/, scaffolds/, agent-templates/, automations/, mcp/)",
        "Handles rate limiting gracefully with retry logic",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": false,
      "e2eScope": null,
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    },
    {
      "id": "US-003",
      "title": "Update deploy workflow to generate fresh manifest",
      "description": "As the CI system, I need to generate a fresh manifest before building so the deployed site has current data.",
      "acceptanceCriteria": [
        ".github/workflows/deploy.yml updated to run manifest generation script before npm run build",
        "Workflow passes GITHUB_TOKEN to the script for API access",
        "Workflow logs the toolkit commit SHA that was synced",
        "Workflow succeeds on push, workflow_dispatch, and repository_dispatch triggers",
        "Built site contains fresh data from ai-toolkit repo"
      ],
      "priority": 3,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": false,
      "e2eScope": null,
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    },
    {
      "id": "US-004",
      "title": "Remove committed manifest from git tracking",
      "description": "As a developer, I want the manifest to be gitignored so it's always generated fresh, avoiding stale data.",
      "acceptanceCriteria": [
        "src/data/toolkit-manifest.json added to .gitignore",
        "File removed from git tracking (but kept locally for dev)",
        "npm run dev still works (generates manifest if missing)",
        "Added prebuild script to package.json that generates manifest",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": false,
      "e2eScope": null,
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    },
    {
      "id": "US-005",
      "title": "Add sync metadata to manifest and display on site",
      "description": "As a user, I want to see when the toolkit data was last synced so I know how current the information is.",
      "acceptanceCriteria": [
        "Manifest includes syncedAt (ISO timestamp) and toolkitCommit (short SHA) fields",
        "Footer displays Last synced: [relative time] ([commit])",
        "Sync info links to the toolkit commit on GitHub",
        "Typecheck passes",
        "Lint passes",
        "Verify in browser",
        "Works in both light and dark mode"
      ],
      "priority": 5,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": true,
      "e2eScope": "Footer displays sync timestamp and commit link correctly",
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    },
    {
      "id": "US-006",
      "title": "Add fallback for local development without toolkit",
      "description": "As a new contributor, I want the site to build even if I don't have the ai-toolkit cloned locally.",
      "acceptanceCriteria": [
        "If local toolkit path doesn't exist and not in CI, use bundled sample data",
        "Sample data at src/data/sample-manifest.json (subset of real data)",
        "Console warning: Using sample data. Run scripts/generate-manifest.ts for full data.",
        "Site builds and runs with sample data",
        "Typecheck passes",
        "Lint passes"
      ],
      "priority": 6,
      "passes": false,
      "notes": "",
      "documentationRequired": false,
      "documentationType": null,
      "relatedArticleSlugs": [],
      "e2eRequired": false,
      "e2eScope": null,
      "marketingRequired": false,
      "marketingType": null,
      "relatedMarketingPages": [],
      "toolsRequired": false,
      "toolsType": null,
      "relatedToolNames": []
    }
  ]
}
